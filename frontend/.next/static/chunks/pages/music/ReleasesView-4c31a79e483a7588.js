(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445],{7900:(e,a,s)=>{"use strict";s.r(a),s.d(a,{ReleasesView:()=>l});var t=s(7876),c=s(5961),d=s.n(c),n=s(4232),r=s(2604);let i=e=>{let{release:a,onSelect:s,onDelete:c,isDeleting:r}=e,i=(0,n.useMemo)(()=>{let e={published:{bg:"#4CAF50",text:"Published"},draft:{bg:"#FFA000",text:"Draft"},archived:{bg:"#757575",text:"Archived"},pending:{bg:"#2196F3",text:"Pending"}};return e[a.status]||e.draft},[a.status]);return(0,t.jsxs)("div",{className:"jsx-db1abb82f554ce0 release-card",children:[(0,t.jsxs)("div",{className:"jsx-db1abb82f554ce0 card-content",children:[(0,t.jsxs)("div",{className:"jsx-db1abb82f554ce0 card-header",children:[(0,t.jsx)("h3",{className:"jsx-db1abb82f554ce0 release-title",children:a.title}),(0,t.jsx)("span",{style:{backgroundColor:i.bg},className:"jsx-db1abb82f554ce0 status-badge",children:i.text})]}),(0,t.jsxs)("div",{className:"jsx-db1abb82f554ce0 release-info",children:[(0,t.jsx)("p",{className:"jsx-db1abb82f554ce0 artist-name",children:a.artist}),(0,t.jsxs)("p",{className:"jsx-db1abb82f554ce0 genre",children:["Genre: ",a.genre]}),a.releaseDate&&(0,t.jsxs)("p",{className:"jsx-db1abb82f554ce0 release-date",children:["Release: ",new Date(a.releaseDate).toLocaleDateString()]}),a.splits.length>0&&(0,t.jsxs)("p",{className:"jsx-db1abb82f554ce0 splits-count",children:[a.splits.length," split",a.splits.length>1?"s":""]})]})]}),(0,t.jsxs)("div",{className:"jsx-db1abb82f554ce0 card-actions",children:[(0,t.jsx)("button",{onClick:s,disabled:r,className:"jsx-db1abb82f554ce0 btn btn-primary",children:"View Details"}),(0,t.jsx)("button",{onClick:c,disabled:r,className:"jsx-db1abb82f554ce0 btn btn-danger",children:r?"Deleting...":"Delete"})]}),(0,t.jsx)(d(),{id:"db1abb82f554ce0",children:".release-card.jsx-db1abb82f554ce0{background:#1E1E1E;border-radius:12px;padding:20px;transition:all.3s ease;border:1px solid#333;display:flex;flex-direction:column;height:100%}.release-card.jsx-db1abb82f554ce0:hover{transform:translatey(-4px);box-shadow:0 8px 25px rgba(0,0,0,.3);border-color:#555}.card-content.jsx-db1abb82f554ce0{flex:1}.card-header.jsx-db1abb82f554ce0{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:15px;gap:10px}.release-title.jsx-db1abb82f554ce0{font-size:1.25rem;font-weight:600;color:#E0E0E0;margin:0;line-height:1.3;flex:1}.status-badge.jsx-db1abb82f554ce0{padding:4px 8px;border-radius:12px;font-size:.75rem;font-weight:500;color:white;white-space:nowrap;flex-shrink:0}.release-info.jsx-db1abb82f554ce0{margin-bottom:20px}.release-info.jsx-db1abb82f554ce0 p.jsx-db1abb82f554ce0{margin:6px 0;color:#A0A0A0;font-size:.9rem}.artist-name.jsx-db1abb82f554ce0{font-weight:500;color:#B0B0B0!important;font-size:1rem!important}.card-actions.jsx-db1abb82f554ce0{display:flex;gap:10px;margin-top:auto}.btn.jsx-db1abb82f554ce0{padding:8px 16px;border:none;border-radius:6px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all.2s ease;flex:1}.btn.jsx-db1abb82f554ce0:disabled{opacity:.6;cursor:not-allowed}.btn-primary.jsx-db1abb82f554ce0{background:#2196F3;color:white}.btn-primary.jsx-db1abb82f554ce0:hover:not(:disabled){background:#1976D2}.btn-danger.jsx-db1abb82f554ce0{background:#f44336;color:white}.btn-danger.jsx-db1abb82f554ce0:hover:not(:disabled){background:#d32f2f}"})]})},l=e=>{let{onSelectRelease:a}=e,{releases:s}=(0,r.C)(e=>e.music),{deleteRelease:c,isLoading:l,error:o,clearError:b}=(0,r.C)(),[f,x]=(0,n.useState)(!1),[p,j]=(0,n.useState)(new Set),m=(0,n.useCallback)(async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.title,'" by ').concat(e.artist,"?\n\nThis action cannot be undone."))){j(a=>new Set(a).add(e.id));try{await c(e.id)}catch(e){console.error("Delete failed:",e)}finally{j(a=>{let s=new Set(a);return s.delete(e.id),s})}}},[c]),g=(0,n.useCallback)(e=>{null==a||a(e)},[a]),h=(0,n.useMemo)(()=>[...s].sort((e,a)=>{let s={draft:0,pending:1,published:2,archived:3},t=(s[e.status]||0)-(s[a.status]||0);return 0!==t?t:e.releaseDate&&a.releaseDate?new Date(a.releaseDate).getTime()-new Date(e.releaseDate).getTime():e.title.localeCompare(a.title)}),[s]),u=(0,n.useCallback)(()=>{x(!0)},[]),w=(0,n.useCallback)(()=>{x(!1)},[]);return(0,t.jsxs)("div",{className:"jsx-15cdc53f4b3aaf86 releases-view",children:[(0,t.jsx)("div",{className:"jsx-15cdc53f4b3aaf86 view-header",children:(0,t.jsxs)("div",{className:"jsx-15cdc53f4b3aaf86 header-content",children:[(0,t.jsxs)("h2",{className:"jsx-15cdc53f4b3aaf86 view-title",children:["Releases",(0,t.jsxs)("span",{className:"jsx-15cdc53f4b3aaf86 releases-count",children:["(",s.length,")"]})]}),(0,t.jsxs)("button",{onClick:u,disabled:l,className:"jsx-15cdc53f4b3aaf86 btn btn-add",children:[(0,t.jsx)("span",{className:"jsx-15cdc53f4b3aaf86 btn-icon",children:"+"}),"Add New Release"]})]})}),o&&(0,t.jsxs)("div",{className:"jsx-15cdc53f4b3aaf86 error-banner",children:[(0,t.jsx)("span",{className:"jsx-15cdc53f4b3aaf86",children:o}),(0,t.jsx)("button",{onClick:b,className:"jsx-15cdc53f4b3aaf86 error-close",children:"\xd7"})]}),l&&0===s.length&&(0,t.jsxs)("div",{className:"jsx-15cdc53f4b3aaf86 loading-state",children:[(0,t.jsx)("div",{className:"jsx-15cdc53f4b3aaf86 spinner"}),(0,t.jsx)("p",{className:"jsx-15cdc53f4b3aaf86",children:"Loading releases..."})]}),!l&&0===s.length&&!o&&(0,t.jsxs)("div",{className:"jsx-15cdc53f4b3aaf86 empty-state",children:[(0,t.jsx)("div",{className:"jsx-15cdc53f4b3aaf86 empty-icon",children:"\uD83C\uDFB5"}),(0,t.jsx)("h3",{className:"jsx-15cdc53f4b3aaf86",children:"No releases yet"}),(0,t.jsx)("p",{className:"jsx-15cdc53f4b3aaf86",children:"Create your first music release to get started"}),(0,t.jsx)("button",{onClick:u,className:"jsx-15cdc53f4b3aaf86 btn btn-add",children:"Create First Release"})]}),s.length>0&&(0,t.jsx)("div",{className:"jsx-15cdc53f4b3aaf86 releases-grid",children:h.map(e=>(0,t.jsx)(i,{release:e,onSelect:()=>g(e),onDelete:()=>m(e),isDeleting:p.has(e.id)},e.id))}),f&&(0,t.jsx)("div",{onClick:w,className:"jsx-15cdc53f4b3aaf86 modal-overlay",children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-15cdc53f4b3aaf86 modal-content",children:[(0,t.jsx)("h3",{className:"jsx-15cdc53f4b3aaf86",children:"Add New Release"}),(0,t.jsx)("p",{className:"jsx-15cdc53f4b3aaf86",children:"Form bÄ™dzie tutaj..."}),(0,t.jsx)("button",{onClick:w,className:"jsx-15cdc53f4b3aaf86 btn btn-secondary",children:"Close"})]})}),(0,t.jsx)(d(),{id:"15cdc53f4b3aaf86",children:".releases-view.jsx-15cdc53f4b3aaf86{padding:0}.view-header.jsx-15cdc53f4b3aaf86{margin-bottom:30px}.header-content.jsx-15cdc53f4b3aaf86{display:flex;justify-content:space-between;align-items:center;gap:20px}.view-title.jsx-15cdc53f4b3aaf86{font-size:1.5rem;font-weight:600;color:#E0E0E0;margin:0;display:flex;align-items:center;gap:10px}.releases-count.jsx-15cdc53f4b3aaf86{font-size:.9rem;color:#888;font-weight:400}.btn.jsx-15cdc53f4b3aaf86{padding:10px 20px;border:none;border-radius:8px;cursor:pointer;font-weight:500;transition:all.2s ease;display:flex;align-items:center;gap:8px}.btn.jsx-15cdc53f4b3aaf86:disabled{opacity:.6;cursor:not-allowed}.btn-add.jsx-15cdc53f4b3aaf86{background:linear-gradient(135deg,#4CAF50,#45a049);color:white}.btn-add.jsx-15cdc53f4b3aaf86:hover:not(:disabled){background:linear-gradient(135deg,#45a049,#3d8b40);transform:translatey(-1px)}.btn-secondary.jsx-15cdc53f4b3aaf86{background:#333;color:#E0E0E0}.btn-secondary.jsx-15cdc53f4b3aaf86:hover:not(:disabled){background:#444}.btn-icon.jsx-15cdc53f4b3aaf86{font-size:1.2rem;line-height:1}.error-banner.jsx-15cdc53f4b3aaf86{background:#2D1B1B;border:1px solid#f44336;border-radius:8px;padding:12px 16px;margin-bottom:20px;display:flex;justify-content:space-between;align-items:center;color:#FFB3B3}.error-close.jsx-15cdc53f4b3aaf86{background:none;border:none;color:#FFB3B3;font-size:1.5rem;cursor:pointer;padding:0;margin-left:10px}.loading-state.jsx-15cdc53f4b3aaf86,.empty-state.jsx-15cdc53f4b3aaf86{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center;color:#A0A0A0}.spinner.jsx-15cdc53f4b3aaf86{width:40px;height:40px;border:3px solid#333;border-top:3px solid#2196F3;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:20px}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.empty-icon.jsx-15cdc53f4b3aaf86{font-size:4rem;margin-bottom:20px;opacity:.5}.empty-state.jsx-15cdc53f4b3aaf86 h3.jsx-15cdc53f4b3aaf86{margin:0 0 10px 0;color:#E0E0E0;font-size:1.3rem}.empty-state.jsx-15cdc53f4b3aaf86 p.jsx-15cdc53f4b3aaf86{margin:0 0 30px 0;color:#888}.releases-grid.jsx-15cdc53f4b3aaf86{display:grid;gap:20px;grid-template-columns:repeat(auto-fill,minmax(320px,1fr))}.modal-overlay.jsx-15cdc53f4b3aaf86{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content.jsx-15cdc53f4b3aaf86{background:#2A2A2A;border-radius:12px;padding:30px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto}.modal-content.jsx-15cdc53f4b3aaf86 h3.jsx-15cdc53f4b3aaf86{margin:0 0 20px 0;color:#E0E0E0}@media(max-width:768px){.header-content.jsx-15cdc53f4b3aaf86{flex-direction:column;align-items:stretch}.releases-grid.jsx-15cdc53f4b3aaf86{grid-template-columns:1fr}}"})]})}},8866:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/music/ReleasesView",function(){return s(7900)}])}},e=>{e.O(0,[604,636,593,792],()=>e(e.s=8866)),_N_E=e.O()}]);