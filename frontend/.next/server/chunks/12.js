"use strict";exports.id=12,exports.ids=[12,461],exports.modules={117:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>i});var e=c(8732),f=c(2015),g=c(2461),h=a([g]);g=(h.then?(await h)():h)[0];let i=({chapter:a,onSave:b,onCancel:c})=>{let[d,h]=(0,f.useState)(a.title),[i,j]=(0,f.useState)(a.content),[k,l]=(0,f.useState)(null),[m,n]=(0,f.useState)(null),[o,p]=(0,f.useState)(null),[q,r]=(0,f.useState)(a.imageUrl||""),[s,t]=(0,f.useState)(a.audioUrl||""),[u,v]=(0,f.useState)(a.fileUrl||""),[w,x]=(0,f.useState)(!1),[y,z]=(0,f.useState)({}),A=async(a,b)=>{x(!0);try{let{fileUrl:c}=await (0,g.uploadFileToS3)(a);b(c)}catch{alert("Błąd uploadu pliku.")}x(!1)};return(0,e.jsxs)("div",{style:{background:"#222",padding:24,borderRadius:8,maxWidth:600,margin:"0 auto"},children:[(0,e.jsx)("h3",{style:{color:"white"},children:"Edycja rozdziału"}),(0,e.jsxs)("div",{style:{marginBottom:12},children:[(0,e.jsxs)("label",{style:{color:"white"},children:["Tytuł:",(0,e.jsx)("input",{type:"text",value:d,onChange:a=>h(a.target.value),style:{width:"100%"}})]}),y.title&&(0,e.jsx)("div",{style:{color:"red",fontSize:13},children:y.title})]}),(0,e.jsxs)("div",{style:{marginBottom:12},children:[(0,e.jsxs)("label",{style:{color:"white"},children:["Treść:",(0,e.jsx)("textarea",{value:i,onChange:a=>j(a.target.value),style:{width:"100%"}})]}),y.content&&(0,e.jsx)("div",{style:{color:"red",fontSize:13},children:y.content})]}),(0,e.jsxs)("div",{style:{marginBottom:12},children:[(0,e.jsxs)("label",{style:{color:"white"},children:["Obraz:",(0,e.jsx)("input",{type:"file",accept:"image/*",onChange:a=>l(a.target.files?.[0]||null)})]}),k&&(0,e.jsx)("button",{type:"button",onClick:()=>A(k,r),disabled:w,children:"Wyślij obraz"}),q&&(0,e.jsx)("img",{src:q,alt:"obraz",style:{height:40,marginLeft:8,verticalAlign:"middle"}})]}),(0,e.jsxs)("div",{style:{marginBottom:12},children:[(0,e.jsxs)("label",{style:{color:"white"},children:["Audio:",(0,e.jsx)("input",{type:"file",accept:"audio/*",onChange:a=>n(a.target.files?.[0]||null)})]}),m&&(0,e.jsx)("button",{type:"button",onClick:()=>A(m,t),disabled:w,children:"Wyślij audio"}),s&&(0,e.jsxs)("span",{style:{color:"white",marginLeft:8},children:["Plik audio załadowany",(0,e.jsx)("audio",{controls:!0,src:s,style:{display:"block",marginTop:8,maxWidth:300},children:"Tw\xf3j przeglądarka nie obsługuje odtwarzacza audio."})]})]}),(0,e.jsxs)("div",{style:{marginBottom:12},children:[(0,e.jsxs)("label",{style:{color:"white"},children:["Dowolny plik:",(0,e.jsx)("input",{type:"file",onChange:a=>p(a.target.files?.[0]||null)})]}),o&&(0,e.jsx)("button",{type:"button",onClick:()=>A(o,v),disabled:w,children:"Wyślij plik"}),u&&(0,e.jsxs)("span",{style:{color:"white",marginLeft:8},children:["Plik załadowany",(0,e.jsx)("div",{style:{marginTop:8},children:u.endsWith(".pdf")?(0,e.jsx)("iframe",{src:u,style:{width:300,height:200,border:"1px solid #444",background:"#fff"},title:"Podgląd pliku PDF"}):(0,e.jsx)("a",{href:u,target:"_blank",rel:"noopener noreferrer",style:{color:"#90caf9"},children:"Pobierz / Otw\xf3rz plik"})})]})]}),(0,e.jsxs)("div",{style:{display:"flex",gap:10,justifyContent:"flex-end"},children:[(0,e.jsx)("button",{type:"button",onClick:c,style:{background:"#666",color:"white",padding:"10px 20px",border:"none",borderRadius:4},children:"Anuluj"}),(0,e.jsx)("button",{type:"button",onClick:()=>{let a={};if(d.trim()||(a.title="Tytuł jest wymagany."),i.trim()||(a.content="Treść jest wymagana."),Object.keys(a).length>0)return void z(a);z({}),b({title:d,content:i,imageUrl:q,audioUrl:s,fileUrl:u})},disabled:w,style:{background:w?"#888":"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:4},children:"Zapisz"})]})]})};d()}catch(a){d(a)}})},2461:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{aiApi:()=>k,apiClient:()=>h,musicApi:()=>i,tasksApi:()=>j,uploadFileToS3:()=>g});var e=c(1428),f=a([e]);let h=(e=(f.then?(await f)():f)[0]).default.create({baseURL:"http://localhost:3001/api",headers:{"Content-Type":"application/json"}});async function g(a){let{data:b}=await h.get("/s3-presigned-url",{params:{fileName:a.name,fileType:a.type}});return await fetch(b.presignedUrl,{method:"PUT",headers:{"Content-Type":a.type},body:a}),{fileUrl:b.fileUrl}}let i={getAll:()=>h.get("/music/releases"),create:a=>h.post("/music/releases",a),update:(a,b)=>h.patch(`/music/releases/${a}`,b),delete:a=>h.delete(`/music/releases/${a}`),updateSplits:(a,b)=>h.patch(`/music/releases/${a}/splits`,{splits:b})},j={getAll:()=>h.get("/music/tasks"),create:a=>h.post("/music/tasks",a),update:(a,b)=>h.patch(`/music/tasks/${a}`,b),delete:a=>h.delete(`/music/tasks/${a}`)},k={generateImage:a=>h.post("/ai/generate-images",{prompt:a}),generateContent:a=>h.post("/ai/generate-content",{prompt:a})};d()}catch(a){d(a)}})},2589:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{C:()=>g});var e=c(2177),f=a([e]);e=(f.then?(await f)():f)[0];let g=(0,e.create)((a,b)=>({isInitialized:!1,isLoading:!1,error:null,view:"DASHBOARD",loading:{metadata:!1,releaseDate:!1,forecast:!1,syncMatch:!1,coverArt:!1,aandrScout:!1,funding:!1,collabFinder:!1,listenerAnalytics:!1,splitAgreement:!1,proofread:!1,plotAnalysis:!1,enrichment:!1,illustration:!1,blurb:!1,keywords:!1,salesForecast:!1,marketTrends:!1,marketingAssets:!1,worldConsistency:!1,rightsMatch:!1,bookCover:!1},toasts:[],onboarding:{tourStepIndex:-1,onboardingComplete:!1,activeTabOverride:void 0},music:{releases:[],tasks:[]},publishing:{books:[],tasks:[]},clearError:()=>a({error:null}),fetchReleases:async()=>{a({isLoading:!0,error:null});try{let b=await c.e(461).then(c.bind(c,2461)).then(a=>a.musicApi.getAll()),d=b.data.releases||b.data;a(a=>({music:{...a.music,releases:Array.isArray(d)?d:[]},isLoading:!1}))}catch(d){let c="Błąd podczas pobierania wydań: "+(d?.response?.data?.message||d.message);a({error:c,isLoading:!1}),b().addToast(c,"error")}},deleteRelease:async d=>{a({isLoading:!0,error:null});try{await c.e(461).then(c.bind(c,2461)).then(a=>a.musicApi.delete(d)),await b().fetchReleases(),b().addToast("Wydanie zostało usunięte.","success")}catch(d){let c="Błąd podczas usuwania wydania: "+(d?.response?.data?.message||d.message);throw a({error:c,isLoading:!1}),b().addToast(c,"error"),d}},initializeApp:async()=>{await Promise.all([b().fetchReleases(),b().fetchMusicTasks(),b().fetchBooks(),b().fetchPublishingTasks()]),a({isInitialized:!0})},setView:b=>a({view:b}),setLoading:(b,c)=>a(a=>({loading:{...a.loading,[b]:c}})),addToast:(b,c="success")=>a(a=>({toasts:[...a.toasts,{id:Date.now(),message:b,type:c}]})),dismissToast:b=>a(a=>({toasts:a.toasts.filter(a=>a.id!==b)})),startTour:()=>{b().onboarding.onboardingComplete||a(a=>({onboarding:{...a.onboarding,tourStepIndex:0}}))},nextTourStep:()=>{let c=b().onboarding.tourStepIndex;a(a=>({onboarding:{...a.onboarding,tourStepIndex:c+1}}))},skipTour:()=>{a({onboarding:{tourStepIndex:-1,onboardingComplete:!0,activeTabOverride:void 0}}),b().addToast("You're all set! Feel free to explore.","success")},addRelease:async a=>{try{await c.e(461).then(c.bind(c,2461)).then(b=>b.musicApi.create(a)),await b().fetchReleases(),b().addToast("Wydanie zostało dodane!","success")}catch(a){b().addToast("Błąd podczas dodawania wydania: "+(a?.response?.data?.message||a.message),"error")}},updateMusicSplits:async(a,d)=>{try{await c.e(461).then(c.bind(c,2461)).then(b=>b.musicApi.updateSplits(a,d)),await b().fetchReleases(),b().addToast("Podziały zostały zaktualizowane.","success")}catch(a){b().addToast("Błąd podczas aktualizacji podział\xf3w: "+(a?.response?.data?.message||a.message),"error")}},fetchMusicTasks:async()=>{try{let b=await c.e(461).then(c.bind(c,2461)).then(a=>a.tasksApi.getAll()),d=b.data.tasks||b.data;a(a=>({music:{...a.music,tasks:Array.isArray(d)?d:[]}}))}catch(a){b().addToast("Błąd podczas pobierania zadań: "+(a?.response?.data?.message||a.message),"error")}},addMusicTask:async(a,d)=>{try{await c.e(461).then(c.bind(c,2461)).then(b=>b.tasksApi.create({text:a,dueDate:d})),await b().fetchMusicTasks(),b().addToast("Dodano zadanie muzyczne.","success")}catch(a){b().addToast("Błąd podczas dodawania zadania: "+(a?.response?.data?.message||a.message),"error")}},toggleMusicTask:async(a,d)=>{try{if(void 0===d){let c=b().music.tasks.find(b=>b.id===a);d=!c?.completed}await c.e(461).then(c.bind(c,2461)).then(b=>b.tasksApi.update(a,{completed:d})),await b().fetchMusicTasks(),b().addToast("Status zadania zaktualizowany.","success")}catch(a){b().addToast("Błąd podczas zmiany statusu zadania: "+(a?.response?.data?.message||a.message),"error")}},fetchBooks:async()=>{try{let b=await c.e(461).then(c.bind(c,2461)).then(a=>a.apiClient.get("/publishing/books")),d=b.data.books||b.data;a(a=>({publishing:{...a.publishing,books:Array.isArray(d)?d:[]}}))}catch(a){b().addToast("Błąd podczas pobierania książek: "+(a?.response?.data?.message||a.message),"error")}},addBook:async a=>{try{let d=await c.e(461).then(c.bind(c,2461)).then(b=>b.apiClient.post("/publishing/books",a));return await b().fetchBooks(),b().addToast("Dodano książkę.","success"),d.data.book?.id?.toString()}catch(a){b().addToast("Błąd podczas dodawania książki: "+(a?.response?.data?.message||a.message),"error");return}},updateBook:async(a,d)=>{try{await c.e(461).then(c.bind(c,2461)).then(b=>b.apiClient.patch(`/publishing/books/${a}`,d)),await b().fetchBooks(),b().addToast("Książka zaktualizowana.","success")}catch(a){b().addToast("Błąd podczas aktualizacji książki: "+(a?.response?.data?.message||a.message),"error")}},updateBookSplits:async(a,d)=>{try{await c.e(461).then(c.bind(c,2461)).then(b=>b.apiClient.patch(`/publishing/books/${a}/splits`,{splits:d})),await b().fetchBooks(),b().addToast("Splits updated successfully.","success")}catch(a){b().addToast("Błąd podczas aktualizacji splits: "+(a?.response?.data?.message||a.message),"error")}},addChapter:c=>{let d=b().publishing.books.find(a=>a.id===c);if(!d)return;let e={title:`Chapter ${d.chapters.length+1}`,content:""},f=[...d.chapters,e];a(a=>({publishing:{...a.publishing,books:a.publishing.books.map(a=>a.id===c?{...a,chapters:f}:a)}}))},updateChapterContent:async(a,d,e)=>{try{await c.e(461).then(c.bind(c,2461)).then(b=>b.apiClient.patch(`/publishing/books/${a}/chapters/${d}`,{content:e})),await b().fetchBooks(),b().addToast("Treść rozdziału zaktualizowana.","success")}catch(a){b().addToast("Błąd podczas aktualizacji rozdziału: "+(a?.response?.data?.message||a.message),"error")}},replaceBookChapters:(b,c)=>{a(a=>({publishing:{...a.publishing,books:a.publishing.books.map(a=>a.id===b?{...a,chapters:c}:a)}}))},fetchPublishingTasks:async()=>{try{let b=await c.e(461).then(c.bind(c,2461)).then(a=>a.apiClient.get("/publishing/tasks")),d=b.data.tasks||b.data;a(a=>({publishing:{...a.publishing,tasks:Array.isArray(d)?d:[]}}))}catch(a){b().addToast("Błąd podczas pobierania zadań wydawniczych: "+(a?.response?.data?.message||a.message),"error")}},addPublishingTask:async(a,d)=>{try{await c.e(461).then(c.bind(c,2461)).then(b=>b.apiClient.post("/publishing/tasks",{text:a,dueDate:d})),await b().fetchPublishingTasks(),b().addToast("Dodano zadanie wydawnicze.","success")}catch(a){b().addToast("Błąd podczas dodawania zadania wydawniczego: "+(a?.response?.data?.message||a.message),"error")}},togglePublishingTask:async(a,d)=>{try{if(void 0===d){let c=b().publishing.tasks.find(b=>b.id===a);d=!c?.completed}await c.e(461).then(c.bind(c,2461)).then(b=>b.apiClient.patch(`/publishing/tasks/${a}`,{completed:d})),await b().fetchPublishingTasks(),b().addToast("Status zadania wydawniczego zaktualizowany.","success")}catch(a){b().addToast("Błąd podczas zmiany statusu zadania wydawniczego: "+(a?.response?.data?.message||a.message),"error")}}}));d()}catch(a){d(a)}})},4460:(a,b,c)=>{c.r(b),c.d(b,{default:()=>k});var d=c(8732),e=c(7085),f=c.n(e);c(2015);var g=c(9918),h=c.n(g);let i=()=>(0,d.jsxs)("header",{children:[(0,d.jsx)("h2",{children:"HardbanRecords-Lab"}),(0,d.jsx)("nav",{})]}),j=({children:a})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i,{}),(0,d.jsxs)("div",{style:{display:"flex",minHeight:"100vh"},className:"jsx-cfca3f81917fd3e9",children:[(0,d.jsx)("div",{style:{width:"250px",background:"#f5f5f5",padding:"16px",borderRight:"1px solid #ddd"},className:"jsx-cfca3f81917fd3e9",children:(0,d.jsxs)("nav",{className:"jsx-cfca3f81917fd3e9",children:[(0,d.jsx)(h(),{href:"/",style:{display:"block",marginBottom:"8px",color:"#333",textDecoration:"none",padding:"8px",borderRadius:"4px"},children:"Home"}),(0,d.jsx)(h(),{href:"/music",style:{display:"block",marginBottom:"8px",color:"#333",textDecoration:"none",padding:"8px",borderRadius:"4px"},children:"Music Publishing"}),(0,d.jsx)(h(),{href:"/publishing",style:{display:"block",marginBottom:"8px",color:"#333",textDecoration:"none",padding:"8px",borderRadius:"4px"},children:"Digital Publishing"}),(0,d.jsx)(h(),{href:"/settings",style:{display:"block",marginBottom:"8px",color:"#333",textDecoration:"none",padding:"8px",borderRadius:"4px"},children:"Settings"})]})}),(0,d.jsx)("div",{style:{flex:1,padding:"16px"},className:"jsx-cfca3f81917fd3e9",children:a})]}),(0,d.jsx)(f(),{id:"cfca3f81917fd3e9",children:"a.jsx-cfca3f81917fd3e9:hover{background-color:#e0e0e0!important}"})]});function k({Component:a,pageProps:b}){return(0,d.jsx)(j,{children:(0,d.jsx)(a,{...b})})}},6857:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>j});var e=c(8732),f=c(2015),g=c(2589),h=c(117),i=a([g,h]);[g,h]=i.then?(await i)():i;let j=({bookId:a,onBack:b})=>{let c=(0,g.C)(b=>b.publishing.books.find(b=>b.id===a)),d=(0,g.C)(a=>a.updateChapterContent),i=(0,g.C)(a=>a.addChapter),j=(0,g.C)(a=>a.replaceBookChapters),[k,l]=(0,f.useState)(null);return c?(0,e.jsxs)("div",{style:{padding:32},children:[(0,e.jsxs)("h2",{style:{color:"white"},children:["Rozdziały książki: ",c.title]}),(0,e.jsx)("button",{onClick:b,style:{marginBottom:24,background:"#666",color:"white",padding:"10px 20px",border:"none",borderRadius:4},children:"Powr\xf3t"}),(0,e.jsx)("ul",{style:{color:"white",marginBottom:24},children:c.chapters.map((b,d)=>(0,e.jsxs)("li",{style:{marginBottom:16},children:[(0,e.jsx)("strong",{children:b.title||`Rozdział ${d+1}`}),(0,e.jsx)("button",{style:{marginLeft:16},onClick:()=>l(d),children:"Edytuj"}),(0,e.jsx)("button",{style:{marginLeft:8,color:"red"},onClick:()=>{let b=c.chapters.filter((a,b)=>b!==d);j(a,b)},children:"Usuń"}),b.imageUrl&&(0,e.jsx)("img",{src:b.imageUrl,alt:"obraz",style:{height:32,marginLeft:8,verticalAlign:"middle"}}),b.audioUrl&&(0,e.jsx)("span",{style:{marginLeft:8},children:"[audio]"}),b.fileUrl&&(0,e.jsx)("span",{style:{marginLeft:8},children:"[plik]"})]},d))}),(0,e.jsx)("button",{onClick:()=>i(a),style:{background:"#2196F3",color:"white",padding:"8px 16px",border:"none",borderRadius:4,marginBottom:24},children:"Dodaj rozdział"}),null!==k&&(0,e.jsx)(h.A,{chapter:c.chapters[k],onSave:async b=>{await d(a,k,b.content);let e=c.chapters.map((a,c)=>c===k?{...b}:a);g.C.getState().replaceBookChapters(a,e),l(null)},onCancel:()=>l(null)})]}):(0,e.jsx)("div",{style:{color:"white"},children:"Nie znaleziono książki."})};d()}catch(a){d(a)}})}};